@startuml User Registration

rectangle "User Registration"{

    start
    :User initiates registration;
    :Input registration details;
    if (Details valid?) then (yes)
    :Generate unique ID;
    :Create account;
    :Generate verification token;
    :Send verification email;
    if (Email sent successfully?) then (yes)
        :User verifies email;
        :Verify email token;
        if (Token valid?) then (yes)
        :Account verified;
        :Registration complete;
        else (no)
        :Display token error;
        stop
        endif
    else (no)
        :Display email error;
        stop
    endif
    else (no)
    :Display error message;
    stop
    endif
    stop
}
@enduml
